(this["webpackJsonppani-front-reducer"]=this["webpackJsonppani-front-reducer"]||[]).push([[0],{13:function(e,t,c){},15:function(e,t,c){},16:function(e,t,c){"use strict";c.r(t);var r=c(1),n=c.n(r),a=c(7),s=c.n(a),i=(c(13),c(3)),o=c(8),u=c(2),d=c(0),j=function(e){var t=e.id,c=e.price,r=e.name;return Object(d.jsxs)("div",{className:"product",children:[Object(d.jsxs)("div",{children:[r," "]}),Object(d.jsxs)("div",{className:"price",children:["$",c]})]},t)},p=function(e){var t=e.id,c=e.name,n=e.product,a=e.onClick,s=Object(r.useContext)(O),o=Object(r.useState)(!1),u=Object(i.a)(o,2),p=u[0],l=u[1];return console.log("selected from 'feature'",p),Object(d.jsx)("div",{className:"featureproduct",children:n?p?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("input",{type:"checkbox",onClick:function(){s.dispatch({type:"UNSELECT",payload:n}),l(!p)}}),c,Object(d.jsx)("br",{}),Object(d.jsx)(j,{id:n.id,name:n.name,price:n.price})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("input",{type:"checkbox",onClick:function(){s.dispatch({type:"SELECT",payload:n}),l(!p)}}),c,Object(d.jsx)("br",{}),Object(d.jsx)(j,{id:n.id,name:n.name,price:n.price})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("input",{type:"checkbox",onClick:a}),c,Object(d.jsx)("br",{})]})},t)},l=function e(t){var c=t.id,n=t.name,a=t.product,s=t.subcategories,o=Object(r.useState)(!1),u=Object(i.a)(o,2),j=u[0],l=u[1];return Object(d.jsxs)("div",{className:"features",children:[Object(d.jsx)(p,{id:c,name:n,product:a,onClick:function(){l(!j)}}),j&&Object(d.jsx)("div",{children:s.map((function(t){return Object(d.jsx)(e,{id:t.id,name:t.name,product:t.product,subcategories:t.subcategories},t.id)}))})]})},b=function(){var e=Object(r.useContext)(O);return Object(d.jsx)("div",{className:"summary",children:Object(d.jsxs)("div",{children:["Total: $ ",Math.round(100*(e.state.total+Number.EPSILON))/100," "]})})},O=(c(15),n.a.createContext()),f={loading:!0,error:"",features:{},toggleShow:!1,total:0,purchases:[]},h=function(e,t){switch(t.type){case"FETCH_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{loading:!1,error:"",features:t.payload});case"FETCH_ERROR":return Object(u.a)(Object(u.a)({},e),{},{loading:!1,error:t.payload,features:{}});case"SELECT":return Object(u.a)(Object(u.a)({},e),{},{purchases:[].concat(Object(o.a)(e.purchases),[t.payload]),total:e.purchases.map((function(e){return e.price})).reduce((function(e,t){return e+t}),0)+t.payload.price});case"UNSELECT":return Object(u.a)(Object(u.a)({},e),{},{purchases:e.purchases.filter((function(e){return t.payload.id!==e.id})),total:e.purchases.map((function(e){return e.price})).reduce((function(e,t){return e+t}),0)-t.payload.price});default:return e}};function x(){var e=Object(r.useReducer)(h,f),t=Object(i.a)(e,2),c=t[0],n=t[1];return Object(r.useEffect)((function(){fetch("https://polar-cove-07920.herokuapp.com/api/v1/categories").then((function(e){return e.json()})).then((function(e){return n({type:"FETCH_SUCCESS",payload:e.features})})).catch((function(e){return n({type:"FETCH_ERROR",payload:e})}))}),[]),console.log(c.features),console.log(c),Object(d.jsx)(O.Provider,{value:{state:c,dispatch:n},children:Object(d.jsxs)("div",{className:"App",children:[c.loading?"loading":Object(d.jsxs)("div",{children:[c.features.map((function(e){return Object(d.jsx)(l,{id:e.id,name:e.name,product:e.product,subcategories:e.subcategories},e.id)})),Object(d.jsx)(b,{})]}),c.error?Object(d.jsx)("div",{children:c.error}):null]})})}var m=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,17)).then((function(t){var c=t.getCLS,r=t.getFID,n=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),r(e),n(e),a(e),s(e)}))};s.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(x,{})}),document.getElementById("root")),m()}},[[16,1,2]]]);
//# sourceMappingURL=main.0361fa5a.chunk.js.map